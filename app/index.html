<!--
  https://www.w3schools.com/js/js_conventions.asp
-->

<html>
<head>
   <meta name='viewport' content = 'width = device-width, initial-scale = 1.0, user-scalable = no'/>
   <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
   <script type="text/javascript" src="jquery-2.1.3.min.js"></script>
   <script type="text/javascript" src="introtoapps.min.js"></script>

   <script type="text/javascript">
   /* Namespacing
      Global Game Settings
   */
      var paused = false,
          debug = true;
          Burnout = {};

      function logger(log) {
        if (debug == true) {
          console.info(log);
        }
      }

      Burnout.road = (function() {
        /* road Object state
           1. ROAD_SPEED: at which the road is animated.
              (Larger values indicate lower speed.)
        */
        var ROAD_IMAGE = '.road02',
            ROAD_SPEED = 100;

        function animateRoad(){
          $(ROAD_IMAGE).hide(ROAD_SPEED)
                       .show(ROAD_SPEED);
        }

        return {
          animateRoad: animateRoad
        }
      }());

      Burnout.menu = (function(){
        //location.reload();
      }());

      Burnout.player = (function() {

        var playerCar01 = '.playerCar01',
            playerPositionX = 0,
            playerPositionY = 0;

        function initializePlayer() {
            $('body').append('<div class="player01"></div>');
        };

        function updatePlayer(event) {
          //$('.playerCar1').append('<div>');
          //console.info("sdfd");
          //var newXPosition = $(".playerCar1").position().left + 100;
          //$(".playerCar1").css("left:", newXPosition + "px");
          logger("Logger is working!");
          //var newXPosition = $(playerCar01).position();
          //$(".player01").moveTo(50);
          //logger(newXPosition);
          //$(playerCar01).css("left", newXPosition + "px"); // we add "px" to say our value is in pixels.

          //$(".playerCar1").moveTo(0);
          //$(".playerCar1").css("bottom", "0px");
          //$(".playerCar1").css("z-index", 5);
        };

        return {
          initializePlayer: initializePlayer,
          updatePlayer: updatePlayer
        }
      }());

      /* initialize game
         1. initialize Players Car
      */
      function initialize(){
        Burnout.player.initializePlayer();
      }

      /* How do i build a game loop?
         level duration
      */
      function startGameLoop(){
        var paused = false;
        Burnout.road.animateRoad();

        if (!paused) {
          setTimeout(startGameLoop, 200);
        }
      }

      /* Entry point of the Application
         It is used to:
         1. startGameLoop
         2. addEventHandlers
      */
      $(document).ready(function() {
        initialize();
        startGameLoop();
          //$(".player01").moveTo(50);

        $("body").onTap(function(event) {
          Burnout.player.updatePlayer(event);
         });

         $("#menu").onTap(function(e) {
           console.log("sddf");
         });
      });

   </script>

   <style type="text/css">
   /*
   */
    .player01 {
      background-image: url('./images/red_car.svg');
      background-repeat: no-repeat;
      background-size: 30% 30%;
      width: 100%;
      height: 100%;
      z-index: 5;
    }

    #sid {
      font-family: 'Lobster', cursive;
      font-size: 30;
      color: white;
      top: 10px;
      left: 350px;
      position: fixed;
      z-index: 5;
    }

    #menu {
      font-family: 'Lobster', cursive;
      font-size: 30;
      color: white;
      top: 10px;
      left: 50px;
      position: fixed;
      z-index: 5;
    }

    .road01 {
      background-image: url('./images/tunnel_road.jpg');
      background-size: auto;
      width: 512px;
      height: 512px;
      position: fixed;
      z-index: -10;
    }

    .road02 {
      background-image: url('./images/tunnel_road02.png');
      background-size: auto;
      width: 512px;
      height: 512px;
      position: fixed;
      z-index: -10;
      }
   </style>
</head>
<body>
  <div class="road01"></div>
  <div class="road02"></div>
  <div id="menu">menu</div>
  <div id="sid">SID: 1234</div>
</body>
</html>
